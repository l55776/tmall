<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../public/iconfont/iconfont.css">
    <link rel="stylesheet" href="../public/css/base.css">
    <link rel="stylesheet" href="../public/css/footer.css">
    <link rel="stylesheet" href="../public/css/tmallheader.css">
    <link rel="stylesheet" href="../public/css/order.css">
    <title>商品列表</title>
</head>

<body>
    <section id="order">
        <header class="header"></header>

        <section class="ordercentent">

            <!-- 全部商品 -->
            <div class="switch-cart">
                <ul>
                    <li><a href="" class="active">全部商品<span>2</span></a></li>
                    <li><a href="">将阶商品<span>2</span></a></li>
                    <li><a href="">库存紧张<span>2</span></a></li>
                    <li class="cart-r">
                        <div class="selectshop">
                            <span>已选商品（不含运费） </span>
                            <em>￥139.90</em>
                            <p> 结 算</p>
                        </div>
                    </li>
                </ul>

            </div>

            <!-- 全选 -->
            <div class="cart-th">
                <div class="checkall">
                    <input type="checkbox" id="c-all">
                    <label for="c-all">全选</label>
                </div>
                <div class="spxinxi">
                    <span>商品信息</span>
                </div>
                <ul class="price">
                    <li></li>
                    <li>单价</li>
                    <li>数量</li>
                    <li>金额</li>
                    <li>操作</li>
                </ul>
            </div>
            <!-- 订单信息 -->
            <div class="cart-cent">
                <div class="cc-h">
                    <input type="checkbox">
                    <span>天猫超市</span>
                    店铺:<a href="">天猫超市</a>
                    <i></i>
                </div>
                <div class="cc-m">
                    <div class="cc-m-hd">
                        <span>超值抢购活动</span>
                        <span>满100</span>
                    </div>
                    <div class="cc-m-list">
                        <ul>
                            <li class="li-chk">
                                <input type="checkbox">
                            </li>
                            <li class="li-inner">
                                <img src="https://img.alicdn.com/bao/uploaded/i3/725677994/O1CN01Z7niIl28vIeA2nQRA_!!0-item_pic.jpg_80x80.jpg"
                                    alt="">
                                <a> 公牛魔方USB插座智能充电插排插线板1.5米U303U</a>
                                <div class="sp-logo"></div>
                                <div class="item-icons">
                                    <a href=""><img src="https://assets.alicdn.com/sys/common/icon/trade/xcard.png" alt=""></a>
                                    <a href=""><img src="https://img.alicdn.com/tps/i3/T1Vyl6FCBlXXaSQP_X-16-16.png"
                                            alt=""></a>
                                    <a href=""><img src="https://img.alicdn.com/tps/i4/T1BCidFrNlXXaSQP_X-16-16.png"
                                            alt=""></a>
                                </div>

                            </li>
                            <li class="li-props">

                            </li>
                            <li class="li-price">
                                <em>￥85.30</em>
                            </li>
                            <li class="li-amount">
                                <div class="numb">
                                    <a href="##" class="jian">-</a>
                                    <input type="text" value="1" class="numbers">
                                    <a href="##" class="jia">+</a>
                                </div>
                            </li>
                            <li class="li-sum">
                                <em>￥85.30</em>
                                <span>(0.3kg)</span>
                            </li>
                            <li class="li-op">
                                <a href="">移入收藏夹</a>
                                <a href="">删除</a>
                            </li>
                        </ul>
                        <ul>
                            <li class="li-chk">
                                <input type="checkbox">
                            </li>
                            <li class="li-inner">
                                <img src="https://img.alicdn.com/bao/uploaded/i3/725677994/O1CN01I5evJ928vIe6igxae_!!0-item_pic.jpg_80x80.jpg"
                                    alt="">
                                <a> 公牛魔方USB插座智能充电插排插线板1.5米U303U</a>
                                <div class="sp-logo"></div>
                                <div class="item-icons">
                                    <a href=""><img src="https://assets.alicdn.com/sys/common/icon/trade/xcard.png" alt=""></a>
                                    <a href=""><img src="https://img.alicdn.com/tps/i3/T1Vyl6FCBlXXaSQP_X-16-16.png"
                                            alt=""></a>
                                    <a href=""><img src="https://img.alicdn.com/tps/i4/T1BCidFrNlXXaSQP_X-16-16.png"
                                            alt=""></a>
                                </div>

                            </li>
                            <li class="li-props">

                            </li>
                            <li class="li-price">
                                <em>￥65.34</em>
                            </li>
                            <li class="li-amount">
                                <div class="numb">
                                    <a href="##" class="jian">-</a>
                                    <input type="text" value="1">
                                    <a href="##" class="jia">+</a>
                                </div>
                            </li>
                            <li class="li-sum">
                                <em>￥65.40</em>
                                <span>(0.3kg)</span>
                            </li>
                            <li class="li-op">
                                <a href="">移入收藏夹</a>
                                <a href="">删除</a>
                            </li>
                        </ul>

                    </div>
                </div>
            </div>
        </section>

        <footer class="footer"></footer>
    </section>

</body>
<script src="http://www.jq22.com/jquery/jquery-1.9.1.js"></script>
<script>
    $(".header").load("public/orderheader.html");
    $(".footer").load("public/footer.html");

    $('.switch-cart ul li a').mouseover(function () {
        $(this).addClass('active').parent().siblings().find('a').removeClass('active');
    });

    // 减
    $('.numb .jian').click(function () {
        var nums = $(this).next().val();
        nums--;
        if (nums <= 1) {
            $(this).next().val('1');
        } else {
            $(this).next().val(nums);
        }
        rowsum($(this));
    })

    // 加
    $('.numb .jia').click(function () {
        var nums = $(this).prev().val();

        var kc = $('.num .kc i').html();
        nums++;
        if (nums == kc) {
            $(this).prev().val(kc);
            alert('库存没有啦');
        } else {
            $(this).prev().val(nums);
        }
        rowsum($(this));
    })




    function rowsum(item) {
        var ordernums;

        var clname = item.attr('class');

        if (clname == "jia") {
            ordernums = $(this).prev().val() * 1;
        }
        if (clname == 'jian') {
            ordernums = $(this).next().val() * 1;
        }

        var sum = item.parent().parent().siblings('.li-price').find('em').html().slice(1) * 1;
        var sums = ordernums * sum.toFixed(2);
        item.parent().parent().siblings('.li-sum').find('em').html("￥" + sums);
        console.log(clname);
    }
</script>



</html>